# anchor-counter/.gitpod.yml
image:
  file: .gitpod.Dockerfile

tasks:
  - name: Setup Environment
    init: |
      cd anchor-counter
      rustup update stable
      rustup component add rustfmt clippy
      solana-keygen new --no-bip39-passphrase --silent --force
      solana config set --url localhost
      npm install -g @coral-xyz/anchor-cli
    command: |
      cd anchor-counter
      anchor build

vscode:
  extensions:
    - rust-lang.rust-analyzer
    - tamasfe.even-better-toml

ports:
  - port: 8899
    onOpen: ignore
  - port: 8900
    onOpen: ignore

github:
  prebuilds:
    master: true
    branches: true
    pullRequests: true
    addCheck: true